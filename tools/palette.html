<!DOCTYPE html>
<html lang="ko">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YXJSQD3KBJ"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-YXJSQD3KBJ');</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="paletteTitle">컬러 팔레트 생성기 - ionflow.xyz</title>
    <meta name="description" content="조화로운 색상 팔레트를 자동으로 생성합니다. 보색, 유사색, 트라이어드 등 다양한 조합.">
    <link rel="canonical" href="https://ionflow.xyz/tools/palette.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ionflow.xyz">
    <meta property="og:title" content="컬러 팔레트 생성기 - ionflow.xyz">
    <meta property="og:description" content="조화로운 색상 팔레트를 자동으로 생성합니다.">
    <meta property="og:url" content="https://ionflow.xyz/tools/palette.html">
    <meta property="og:image" content="https://ionflow.xyz/assets/images/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="alternate" hreflang="ko" href="https://ionflow.xyz/tools/palette.html">
    <link rel="alternate" hreflang="en" href="https://ionflow.xyz/tools/palette.html?lang=en">
    <link rel="alternate" hreflang="x-default" href="https://ionflow.xyz/tools/palette.html">
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
    <link rel="preconnect" href="https://pagead2.googlesyndication.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3465506500903274" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/common.css">
    <style>
        main { max-width: 900px; }
        .controls {
            display: flex; gap: 16px; align-items: center; margin-bottom: 20px; flex-wrap: wrap;
        }
        .controls label { font-size: 14px; color: #86868b; }
        .controls input[type="color"] {
            width: 50px; height: 40px; border: 2px solid #d2d2d7;
            border-radius: 10px; cursor: pointer; padding: 2px;
        }
        .controls select {
            padding: 10px 14px; font-size: 14px;
            border: 1px solid #d2d2d7; border-radius: 10px;
            background: #fff; cursor: pointer;
        }
        .controls button {
            padding: 10px 20px; background: #1d1d1f; color: #fff;
            border: none; border-radius: 10px; font-size: 14px;
            font-weight: 600; cursor: pointer;
        }
        .controls button:hover { background: #424245; }
        .palette-display {
            display: flex; border-radius: 16px; overflow: hidden;
            margin-bottom: 20px; min-height: 200px;
        }
        .palette-color {
            flex: 1; display: flex; flex-direction: column;
            align-items: center; justify-content: flex-end;
            padding: 16px 8px; cursor: pointer;
            transition: flex 0.3s;
        }
        .palette-color:hover { flex: 1.5; }
        .palette-color .hex {
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px; font-weight: 600;
            padding: 4px 8px; border-radius: 6px;
            background: rgba(255,255,255,0.9); color: #1d1d1f;
        }
        .palette-color .name {
            font-size: 11px; margin-top: 4px;
            padding: 2px 6px; border-radius: 4px;
            background: rgba(255,255,255,0.7); color: #86868b;
        }
        .export-section { margin-top: 20px; }
        .export-section h3 { font-size: 15px; font-weight: 600; margin-bottom: 12px; }
        .export-box {
            background: #fff; border-radius: 12px; padding: 16px;
            font-family: 'JetBrains Mono', monospace; font-size: 13px;
            line-height: 1.8; white-space: pre-wrap;
        }
        .toast {
            position: fixed; bottom: 32px; left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #1d1d1f; color: #fff;
            padding: 14px 24px; border-radius: 12px;
            font-size: 14px; opacity: 0; transition: all 0.3s ease; z-index: 1000;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    </style>
</head>
<body>
    <div class="page-header">
        <h1 data-i18n="paletteHeading">컬러 팔레트 생성기</h1>
        <p data-i18n="paletteSubheading">조화로운 색상 팔레트를 자동으로 생성합니다</p>
    </div>
    <main>
        <div class="panel">
            <div class="controls">
                <label>기준 색상:</label>
                <input type="color" id="base-color" value="#0071e3" onchange="generate()">
                <label>조합:</label>
                <select id="harmony" onchange="generate()">
                    <option value="complementary">보색</option>
                    <option value="analogous">유사색</option>
                    <option value="triadic">트라이어드</option>
                    <option value="split">분할 보색</option>
                    <option value="tetradic">테트라드</option>
                    <option value="monochromatic" selected>모노크로매틱</option>
                    <option value="random">랜덤</option>
                </select>
                <button onclick="randomBase()">랜덤 색상</button>
            </div>
            <div class="palette-display" id="palette"></div>
            <div class="export-section">
                <h3>CSS 변수</h3>
                <div class="export-box" id="css-export"></div>
            </div>
        </div>
        <div class="ad-space">광고</div>
    </main>
    <div id="toast" class="toast"></div>
    <script>
        function hexToHSL(hex) {
            let r = parseInt(hex.slice(1,3),16)/255;
            let g = parseInt(hex.slice(3,5),16)/255;
            let b = parseInt(hex.slice(5,7),16)/255;
            const max = Math.max(r,g,b), min = Math.min(r,g,b);
            let h, s, l = (max+min)/2;
            if (max===min) { h=s=0; }
            else {
                const d = max-min;
                s = l>0.5 ? d/(2-max-min) : d/(max+min);
                switch(max) {
                    case r: h=((g-b)/d+(g<b?6:0))/6; break;
                    case g: h=((b-r)/d+2)/6; break;
                    case b: h=((r-g)/d+4)/6; break;
                }
            }
            return [h*360, s*100, l*100];
        }

        function hslToHex(h, s, l) {
            h = ((h%360)+360)%360;
            s = Math.max(0,Math.min(100,s))/100;
            l = Math.max(0,Math.min(100,l))/100;
            const a = s*Math.min(l,1-l);
            const f = n => {
                const k=(n+h/30)%12;
                const color=l-a*Math.max(Math.min(k-3,9-k,1),-1);
                return Math.round(255*color).toString(16).padStart(2,'0');
            };
            return `#${f(0)}${f(8)}${f(4)}`;
        }

        function generatePalette(baseHex, harmony) {
            const [h, s, l] = hexToHSL(baseHex);
            let colors = [];
            switch(harmony) {
                case 'complementary':
                    colors = [[h,s,l],[h+180,s,l],[(h+180),s-10,l+15],[(h+180),s-10,l-15],[h,s-20,l+20]];
                    break;
                case 'analogous':
                    colors = [[h-30,s,l],[h-15,s,l],[h,s,l],[h+15,s,l],[h+30,s,l]];
                    break;
                case 'triadic':
                    colors = [[h,s,l],[h+120,s,l],[h+240,s,l],[h,s,l+20],[h,s,l-20]];
                    break;
                case 'split':
                    colors = [[h,s,l],[h+150,s,l],[h+210,s,l],[h,s-20,l+15],[h+180,s-20,l-10]];
                    break;
                case 'tetradic':
                    colors = [[h,s,l],[h+90,s,l],[h+180,s,l],[h+270,s,l],[h,s,l+20]];
                    break;
                case 'monochromatic':
                    colors = [[h,s,l-30],[h,s,l-15],[h,s,l],[h,s,l+15],[h,s,l+30]];
                    break;
                case 'random':
                    for(let i=0;i<5;i++) colors.push([Math.random()*360, 50+Math.random()*50, 40+Math.random()*30]);
                    break;
            }
            return colors.map(([ch,cs,cl]) => hslToHex(ch,cs,cl));
        }

        function isLight(hex) {
            const r = parseInt(hex.slice(1,3),16);
            const g = parseInt(hex.slice(3,5),16);
            const b = parseInt(hex.slice(5,7),16);
            return (r*299+g*587+b*114)/1000 > 128;
        }

        function generate() {
            const base = document.getElementById('base-color').value;
            const harmony = document.getElementById('harmony').value;
            const colors = generatePalette(base, harmony);
            const names = ['Primary','Secondary','Tertiary','Accent','Surface'];

            const paletteEl = document.getElementById('palette');
            paletteEl.innerHTML = colors.map((hex, i) => `
                <div class="palette-color" style="background:${hex}" onclick="copyColor('${hex}')">
                    <span class="hex">${hex.toUpperCase()}</span>
                    <span class="name">${names[i]}</span>
                </div>
            `).join('');

            const cssExport = document.getElementById('css-export');
            cssExport.textContent = ':root {\n' + colors.map((hex, i) =>
                `  --color-${names[i].toLowerCase()}: ${hex};`
            ).join('\n') + '\n}';
        }

        function randomBase() {
            const hex = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6,'0');
            document.getElementById('base-color').value = hex;
            generate();
        }

        function copyColor(hex) {
            navigator.clipboard.writeText(hex).then(() => showToast(hex + ' 복사됨'));
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg; t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }

        generate();
    </script>
    <script src="/assets/js/i18n.js?v=4"></script>
    <script src="/assets/js/layout.js?v=3"></script>
</body>
</html>
