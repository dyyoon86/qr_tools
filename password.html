<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비밀번호 생성기 - ionflow.xyz</title>
    <meta name="description" content="강력하고 안전한 랜덤 비밀번호를 생성하세요.">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background: #fff;
            color: #1d1d1f;
            -webkit-font-smoothing: antialiased;
        }
        a { text-decoration: none; color: inherit; }
        .code-font { font-family: 'JetBrains Mono', monospace; }

        header {
            background: rgba(255,255,255,0.8);
            backdrop-filter: saturate(180%) blur(20px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #d2d2d7;
        }
        .nav-container {
            max-width: 980px;
            margin: 0 auto;
            padding: 0 22px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo { font-size: 21px; font-weight: 600; }
        nav { display: flex; gap: 28px; }
        nav a { font-size: 12px; opacity: 0.8; }
        nav a:hover { opacity: 1; }

        .page-header {
            text-align: center;
            padding: 60px 22px 40px;
            background: #fbfbfd;
        }
        .page-header h1 { font-size: 48px; font-weight: 700; margin-bottom: 8px; }
        .page-header p { font-size: 19px; color: #86868b; }

        main { max-width: 800px; margin: 0 auto; padding: 40px 22px 80px; }

        .panel {
            background: #f5f5f7;
            border-radius: 18px;
            padding: 28px;
            margin-bottom: 24px;
        }
        .panel-title { font-size: 17px; font-weight: 600; margin-bottom: 20px; }

        .password-display {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
        }
        .password-display input {
            flex: 1;
            padding: 18px;
            background: #fff;
            border: 1px solid #d2d2d7;
            border-radius: 12px;
            font-size: 20px;
            text-align: center;
            letter-spacing: 2px;
        }
        .password-display input:focus { outline: none; }

        .icon-btn {
            width: 56px;
            height: 56px;
            background: #e8e8ed;
            border: none;
            border-radius: 12px;
            font-size: 20px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .icon-btn:hover { background: #d2d2d7; }
        .icon-btn.primary { background: #1d1d1f; color: #fff; }
        .icon-btn.primary:hover { background: #424245; }

        .strength-bar {
            display: flex;
            gap: 4px;
            margin-bottom: 8px;
        }
        .strength-bar div {
            flex: 1;
            height: 6px;
            background: #e8e8ed;
            border-radius: 3px;
            transition: background 0.3s;
        }
        .strength-bar.weak div:nth-child(1) { background: #ff3b30; }
        .strength-bar.fair div:nth-child(-n+2) { background: #ff9500; }
        .strength-bar.good div:nth-child(-n+3) { background: #34c759; }
        .strength-bar.strong div { background: #34c759; }
        .strength-text { font-size: 13px; color: #86868b; text-align: center; }

        .options { margin-top: 24px; }
        .option-row { margin-bottom: 16px; }
        .option-row label { display: block; font-size: 14px; color: #86868b; margin-bottom: 8px; }
        .option-row input[type="range"] { width: 100%; }
        .length-value { font-weight: 600; color: #1d1d1f; }

        .checkboxes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 16px;
            background: #fff;
            border-radius: 10px;
            cursor: pointer;
        }
        .checkbox-item input { width: 18px; height: 18px; }
        .checkbox-item span { font-size: 14px; }

        .generate-btn {
            width: 100%;
            padding: 16px;
            background: #1d1d1f;
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.2s;
        }
        .generate-btn:hover { background: #424245; }

        .bulk-section { margin-top: 24px; padding-top: 24px; border-top: 1px solid #e8e8ed; }
        .bulk-controls {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
        }
        .bulk-controls label { font-size: 14px; color: #86868b; }
        .bulk-controls input {
            width: 80px;
            padding: 10px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            text-align: center;
        }
        .bulk-controls button {
            padding: 10px 20px;
            background: #34c759;
            color: #fff;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
        }
        .bulk-controls button:hover { background: #2db350; }

        textarea {
            width: 100%;
            height: 150px;
            padding: 16px;
            border: 1px solid #d2d2d7;
            border-radius: 12px;
            font-size: 13px;
            resize: none;
            background: #fff;
        }

        .status {
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 24px;
            font-size: 14px;
            display: none;
        }
        .status.show { display: block; background: #d1f5d3; color: #1d7324; }

        .info-section {
            background: #f5f5f7;
            border-radius: 18px;
            padding: 32px;
        }
        .info-section h2 { font-size: 21px; font-weight: 600; margin-bottom: 16px; }
        .info-section ul { list-style: none; }
        .info-section li { font-size: 14px; color: #86868b; margin-bottom: 8px; padding-left: 16px; position: relative; }
        .info-section li::before { content: "•"; position: absolute; left: 0; }

        .ad-space {
            max-width: 728px;
            margin: 40px auto;
            height: 90px;
            background: #f5f5f7;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #86868b;
            font-size: 12px;
        }

        footer {
            background: #f5f5f7;
            padding: 20px 22px;
            text-align: center;
            font-size: 12px;
            color: #86868b;
        }

        @media (max-width: 768px) {
            .page-header h1 { font-size: 32px; }
            nav { display: none; }
            .checkboxes { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="nav-container">
            <a href="/" class="logo">ionflow</a>
            <nav>
                <a href="/qr.html">QR 생성기</a>
                <a href="/json.html">JSON</a>
                <a href="/password.html">비밀번호</a>
                <a href="/hash.html">Hash</a>
            </nav>
        </div>
    </header>

    <div class="page-header">
        <h1>Password Generator</h1>
        <p>강력하고 안전한 랜덤 비밀번호를 생성하세요</p>
    </div>

    <main>
        <div id="status" class="status"></div>

        <div class="panel">
            <div class="password-display">
                <input type="text" id="password-output" class="code-font" readonly value="">
                <button class="icon-btn" onclick="copyPassword()" title="복사">◫</button>
                <button class="icon-btn primary" onclick="generatePassword()" title="새로 생성">↻</button>
            </div>

            <div class="strength-bar" id="strength-bar">
                <div></div><div></div><div></div><div></div>
            </div>
            <p class="strength-text" id="strength-text"></p>

            <div class="options">
                <div class="option-row">
                    <label>길이: <span class="length-value" id="length-value">16</span>자</label>
                    <input type="range" id="password-length" min="4" max="64" value="16" oninput="updateLength(); generatePassword()">
                </div>

                <div class="checkboxes">
                    <label class="checkbox-item">
                        <input type="checkbox" id="opt-upper" checked onchange="generatePassword()">
                        <span>대문자 (A-Z)</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" id="opt-lower" checked onchange="generatePassword()">
                        <span>소문자 (a-z)</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" id="opt-numbers" checked onchange="generatePassword()">
                        <span>숫자 (0-9)</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" id="opt-symbols" checked onchange="generatePassword()">
                        <span>특수문자 (!@#)</span>
                    </label>
                </div>

                <label class="checkbox-item" style="margin-top: 12px;">
                    <input type="checkbox" id="opt-exclude" onchange="generatePassword()">
                    <span>헷갈리는 문자 제외 (0, O, l, I, 1)</span>
                </label>
            </div>

            <button class="generate-btn" onclick="generatePassword()">새 비밀번호 생성</button>

            <div class="bulk-section">
                <div class="panel-title">대량 생성</div>
                <div class="bulk-controls">
                    <label>개수:</label>
                    <input type="number" id="bulk-count" value="5" min="1" max="100">
                    <button onclick="generateBulk()">생성</button>
                </div>
                <textarea id="bulk-output" class="code-font" readonly></textarea>
            </div>
        </div>

        <div class="ad-space">광고</div>

        <div class="info-section">
            <h2>안전한 비밀번호 팁</h2>
            <ul>
                <li>최소 12자 이상 사용 권장</li>
                <li>대소문자, 숫자, 특수문자 조합</li>
                <li>각 사이트마다 다른 비밀번호 사용</li>
                <li>비밀번호 관리자 사용 권장</li>
                <li>개인정보(생일, 이름)는 피하기</li>
            </ul>
        </div>
    </main>

    <footer>
        <p>Copyright © 2026 ionflow.xyz</p>
    </footer>

    <script>
        const CHARS = {
            upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            lower: 'abcdefghijklmnopqrstuvwxyz',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
        };
        const EXCLUDE = '0Ol1I';

        function updateLength() {
            document.getElementById('length-value').textContent = document.getElementById('password-length').value;
        }

        function getCharset() {
            let charset = '';
            const exclude = document.getElementById('opt-exclude').checked;

            if (document.getElementById('opt-upper').checked) charset += CHARS.upper;
            if (document.getElementById('opt-lower').checked) charset += CHARS.lower;
            if (document.getElementById('opt-numbers').checked) charset += CHARS.numbers;
            if (document.getElementById('opt-symbols').checked) charset += CHARS.symbols;

            if (exclude) {
                charset = charset.split('').filter(c => !EXCLUDE.includes(c)).join('');
            }

            return charset || CHARS.lower;
        }

        function generatePassword() {
            const length = parseInt(document.getElementById('password-length').value);
            const charset = getCharset();
            let password = '';

            const array = new Uint32Array(length);
            crypto.getRandomValues(array);

            for (let i = 0; i < length; i++) {
                password += charset[array[i] % charset.length];
            }

            document.getElementById('password-output').value = password;
            updateStrength(password);
        }

        function updateStrength(password) {
            let score = 0;
            if (password.length >= 8) score++;
            if (password.length >= 12) score++;
            if (/[a-z]/.test(password) && /[A-Z]/.test(password)) score++;
            if (/\d/.test(password)) score++;
            if (/[^a-zA-Z0-9]/.test(password)) score++;

            const levels = ['weak', 'fair', 'good', 'strong'];
            const texts = ['약함', '보통', '좋음', '강력'];
            const level = Math.min(3, Math.floor(score / 1.5));

            const bar = document.getElementById('strength-bar');
            bar.className = 'strength-bar ' + levels[level];
            document.getElementById('strength-text').textContent = '강도: ' + texts[level];
        }

        function copyPassword() {
            const pw = document.getElementById('password-output').value;
            navigator.clipboard.writeText(pw).then(() => {
                const s = document.getElementById('status');
                s.textContent = '복사되었습니다';
                s.classList.add('show');
                setTimeout(() => s.classList.remove('show'), 3000);
            });
        }

        function generateBulk() {
            const count = Math.min(100, parseInt(document.getElementById('bulk-count').value) || 5);
            const length = parseInt(document.getElementById('password-length').value);
            const charset = getCharset();
            const passwords = [];

            for (let j = 0; j < count; j++) {
                let pw = '';
                const array = new Uint32Array(length);
                crypto.getRandomValues(array);
                for (let i = 0; i < length; i++) {
                    pw += charset[array[i] % charset.length];
                }
                passwords.push(pw);
            }

            document.getElementById('bulk-output').value = passwords.join('\n');
        }

        generatePassword();
    </script>
</body>
</html>
